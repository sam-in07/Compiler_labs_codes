#include <stdio.h>
#include <stdlib.h>

int main() {
    FILE *file = fopen("int.txt", "r");
    if (!file) {
        printf("Failed to open file.\n");
        return 1;
    }

    int ch;
    while ((ch = fgetc(file)) != EOF) {
        if (isspace(ch)) {
            // Convert any whitespace (space, tab, newline) into a single newline
            putchar('\n');
        } else if (ch == '(' || ch == ')' || ch == '{' || ch == '}' ||
                   ch == ',' || ch == ';' || ch == '+' || ch == '=' ) {
            // Print the symbol and a newline after it
            putchar(ch);
            putchar('\n');
        } else {
            // Print regular characters (letters, digits) continuously
            putchar(ch);
            // Peek next char to decide if we should print a newline after a word
            int next = fgetc(file);
            if (next == EOF) break;

            if (isspace(next) || next == '(' || next == ')' || next == '{' || next == '}' ||
                next == ',' || next == ';' || next == '+' || next == '=') {
                putchar('\n');
            }
            ungetc(next, file);
        }
    }

    fclose(file);
    return 0;
}
